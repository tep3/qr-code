<div class="text-center mb-12 animate-fade-up">
  <div
    class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-primary/10 text-primary text-xs font-semibold tracking-wide mb-5"
    data-i18n="home_badge"
  >
    Free ¬∑ No signup ¬∑ Works offline
  </div>
  <h1 class="text-4xl sm:text-5xl font-serif mb-3 tracking-tight">
    <span data-i18n="home_title_pre">Craft your</span>
    <span class="text-primary" data-i18n="home_title_post">QR Code</span>
  </h1>
  <p
    class="text-base-content/50 text-base sm:text-lg max-w-md mx-auto leading-relaxed"
    data-i18n="home_desc"
  >
    Generate beautiful QR codes for links, WiFi, contacts and more ‚Äî in seconds.
  </p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-10 items-start">
  <div class="lg:col-span-3 space-y-5">
    <div class="animate-fade-up delay-1">
      <label
        class="block text-[11px] uppercase tracking-widest text-base-content/40 mb-2.5 font-semibold pl-1"
        data-i18n="label_encode"
      >
        What do you want to encode?
      </label>
      <div id="type-tabs" class="flex flex-wrap gap-2" role="tablist">
        <!-- PromptPay Tab -->
        <button
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="promptpay"
          hx-get="/partials/qr-form/promptpay"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üáπüá≠</span>
          <span class="text-[11px] font-medium text-base-content/50"
            >PromptPay</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/url"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-primary bg-primary/5 transition-all duration-200 min-w-[60px]"
          data-type="url"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üîó</span>
          <span
            class="text-[11px] font-semibold text-primary"
            data-i18n="tab_url"
            >URL</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/text"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="text"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üìù</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_text"
            >Text</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/wifi"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="wifi"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üì∂</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_wifi"
            >WiFi</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/vcard"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="vcard"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üë§</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_vcard"
            >vCard</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/email"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="email"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">‚úâÔ∏è</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_email"
            >Email</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/phone"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="phone"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üìû</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_phone"
            >Phone</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/sms"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="sms"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üí¨</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_sms"
            >SMS</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/line"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="line"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üíö</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_line"
            >LINE</span
          >
        </button>

        <button
          hx-get="/partials/qr-form/facebook"
          hx-target="#form-fields"
          hx-swap="innerHTML transition:true"
          class="tab-btn flex flex-col items-center gap-1 py-2.5 px-3 rounded-xl border-2 border-base-200 hover:border-base-300 bg-base-100 transition-all duration-200 min-w-[60px]"
          data-type="facebook"
          onclick="switchTab(this)"
        >
          <span class="text-lg leading-none">üìò</span>
          <span
            class="text-[11px] font-medium text-base-content/50"
            data-i18n="tab_facebook"
            >Facebook</span
          >
        </button>
      </div>
    </div>

    <form
      id="qr-form"
      hx-post="/api/qr/generate"
      hx-target="#qr-preview"
      hx-swap="innerHTML transition:true"
      hx-indicator="#loading-spinner"
      class="space-y-5"
    >
      <input type="hidden" name="type" id="qr-type" value="url" />
      <div
        class="animate-fade-up delay-2 bg-base-100 rounded-2xl border border-base-200 p-5 shadow-sm"
      >
        <label
          class="block text-[11px] uppercase tracking-widest text-base-content/40 mb-3 font-semibold"
          data-i18n="label_content"
          >Content</label
        >
        <div id="form-fields">
          <div class="form-control">
            <label class="label pb-1"
              ><span
                class="label-text font-medium"
                data-i18n="label_website_url"
                >Website URL</span
              ></label
            >
            <input
              type="url"
              name="content.url"
              placeholder="https://example.com"
              class="input input-bordered w-full bg-base-200/50 border-base-200 focus:border-primary focus:bg-base-100 transition-colors"
              required
              data-i18n="ph_website_url"
            />
            <label class="label pt-1"
              ><span
                class="label-text-alt text-base-content/40"
                data-i18n="help_website_url"
                >Enter the full URL including https://</span
              ></label
            >
          </div>
        </div>
      </div>

      <details
        class="animate-fade-up delay-3 group bg-base-100 rounded-2xl border border-base-200 shadow-sm overflow-hidden"
      >
        <summary
          class="flex items-center justify-between cursor-pointer p-5 select-none hover:bg-base-200/30 transition-colors"
        >
          <div class="flex items-center gap-3">
            <div
              class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center"
            >
              <svg
                class="w-4 h-4 text-primary"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"
                />
              </svg>
            </div>
            <div>
              <span class="text-sm font-semibold" data-i18n="summary_style"
                >Customize Style</span
              >
              <span
                class="block text-[11px] text-base-content/40"
                data-i18n="summary_style_desc"
                >Colors, size, label, logo & more</span
              >
            </div>
          </div>
          <svg
            class="w-5 h-5 text-base-content/30 transition-transform duration-300 group-open:rotate-180"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M19.5 8.25l-7.5 7.5-7.5-7.5"
            />
          </svg>
        </summary>

        <div class="px-5 pb-5 pt-2 border-t border-base-200">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5 mt-3">
            <div class="form-control">
              <label class="label pb-1"
                ><span
                  class="label-text font-medium text-sm"
                  data-i18n="style_fg"
                  >Foreground</span
                ></label
              >
              <div class="flex items-center gap-3">
                <input
                  type="color"
                  name="style.fgColor"
                  value="#000000"
                  id="fg-color"
                  class="w-10 h-10 rounded-lg cursor-pointer border border-base-200 bg-transparent p-0.5"
                />
                <input
                  type="text"
                  value="#000000"
                  id="fg-color-text"
                  class="input input-bordered input-sm w-28 bg-base-200/50 border-base-200 font-mono text-xs"
                  pattern="^#[0-9a-fA-F]{6}$"
                  onchange="
                    document.getElementById('fg-color').value = this.value
                  "
                />
              </div>
            </div>
            <div class="form-control">
              <label class="label pb-1"
                ><span
                  class="label-text font-medium text-sm"
                  data-i18n="style_bg"
                  >Background</span
                ></label
              >
              <div class="flex items-center gap-3">
                <input
                  type="color"
                  name="style.bgColor"
                  value="#ffffff"
                  id="bg-color"
                  class="w-10 h-10 rounded-lg cursor-pointer border border-base-200 bg-transparent p-0.5"
                />
                <input
                  type="text"
                  value="#ffffff"
                  id="bg-color-text"
                  class="input input-bordered input-sm w-28 bg-base-200/50 border-base-200 font-mono text-xs"
                  pattern="^#[0-9a-fA-F]{6}$"
                  onchange="
                    document.getElementById('bg-color').value = this.value
                  "
                />
              </div>
            </div>
            <div class="form-control">
              <label class="label pb-1"
                ><span
                  class="label-text font-medium text-sm"
                  data-i18n="style_dot"
                  >Dot Style</span
                ></label
              >
              <select
                name="style.dotStyle"
                class="select select-bordered select-sm w-full bg-base-200/50 border-base-200"
              >
                <option value="square" selected>‚ñ† Square</option>
                <option value="rounded">‚óè Rounded</option>
                <option value="dots">‚óâ Dots</option>
              </select>
            </div>
            <div class="form-control">
              <label class="label pb-1"
                ><span
                  class="label-text font-medium text-sm"
                  data-i18n="style_ec"
                  >Error Correction</span
                ></label
              >
              <select
                name="style.ecLevel"
                class="select select-bordered select-sm w-full bg-base-200/50 border-base-200"
              >
                <option value="L">Low (7%)</option>
                <option value="M" selected>Medium (15%)</option>
                <option value="Q">Quartile (25%)</option>
                <option value="H">High (30%)</option>
              </select>
            </div>
            <div class="form-control">
              <label class="label pb-1"
                ><span
                  class="label-text font-medium text-sm"
                  data-i18n="style_size"
                  >Size</span
                ></label
              >
              <select
                name="style.width"
                class="select select-bordered select-sm w-full bg-base-200/50 border-base-200"
              >
                <option value="256">256 √ó 256</option>
                <option value="512" selected>512 √ó 512</option>
                <option value="1024">1024 √ó 1024</option>
                <option value="2048">2048 √ó 2048</option>
              </select>
            </div>
            <div class="form-control">
              <label class="label pb-1"
                ><span
                  class="label-text font-medium text-sm"
                  data-i18n="style_margin"
                  >Margin</span
                ></label
              >
              <input
                type="range"
                name="style.margin"
                min="0"
                max="8"
                value="2"
                class="range range-xs range-primary mt-2"
                id="margin-range"
                oninput="
                  document.getElementById('margin-value').textContent =
                    this.value
                "
              />
              <label class="label pt-0.5">
                <span class="label-text-alt text-base-content/40"
                  ><span data-i18n="style_quiet_zone">Quiet zone:</span>
                  <span id="margin-value">2</span>
                  <span data-i18n="style_modules">modules</span></span
                >
              </label>
            </div>
          </div>

          <div class="mt-6 pt-4 border-t border-base-200">
            <label class="label pb-2"
              ><span
                class="label-text font-bold text-sm"
                data-i18n="label_text_opt"
                >Label Text (Optional)</span
              ></label
            >
            <div
              class="grid grid-cols-1 sm:grid-cols-2 gap-4 bg-base-200/30 p-4 rounded-xl"
            >
              <div class="form-control sm:col-span-2">
                <input
                  type="text"
                  name="style.labelText"
                  placeholder="Enter text (e.g. SCAN ME)"
                  class="input input-bordered input-sm w-full focus:border-primary"
                  maxlength="25"
                />
              </div>

              <div class="form-control">
                <label class="label pb-0"
                  ><span
                    class="label-text-alt font-medium"
                    data-i18n="label_size"
                    >Size</span
                  ></label
                >
                <input
                  type="range"
                  name="style.labelSize"
                  min="4"
                  max="15"
                  value="7"
                  class="range range-xs range-primary mt-2"
                />
                <div
                  class="flex justify-between text-[10px] text-base-content/40 px-1 mt-1"
                >
                  <span>Small</span><span>Large</span>
                </div>
              </div>

              <div class="form-control">
                <label class="label pb-0"
                  ><span
                    class="label-text-alt font-medium"
                    data-i18n="label_pos"
                    >Position</span
                  ></label
                >
                <div class="flex gap-4 mt-2">
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input
                      type="radio"
                      name="style.labelPosition"
                      value="bottom"
                      class="radio radio-xs radio-primary"
                      checked
                    />
                    <span class="text-xs" data-i18n="label_pos_bottom"
                      >Bottom</span
                    >
                  </label>
                  <label class="flex items-center gap-2 cursor-pointer">
                    <input
                      type="radio"
                      name="style.labelPosition"
                      value="top"
                      class="radio radio-xs radio-primary"
                    />
                    <span class="text-xs" data-i18n="label_pos_top">Top</span>
                  </label>
                </div>
              </div>

              <div class="form-control sm:col-span-2">
                <label class="label pb-1"
                  ><span
                    class="label-text-alt font-medium"
                    data-i18n="label_color"
                    >Text Color</span
                  ></label
                >
                <div class="flex items-center gap-3">
                  <input
                    type="color"
                    name="style.labelColor"
                    value="#000000"
                    id="lbl-color"
                    class="w-8 h-8 rounded cursor-pointer border border-base-200 p-0.5"
                  />
                  <input
                    type="text"
                    value="#000000"
                    id="lbl-color-text"
                    class="input input-bordered input-sm w-28 bg-base-100 border-base-200 font-mono text-xs"
                    pattern="^#[0-9a-fA-F]{6}$"
                    onchange="
                      document.getElementById('lbl-color').value = this.value
                    "
                  />
                  <span
                    class="text-[10px] text-base-content/40"
                    data-i18n="label_color_help"
                    >Matches QR color by default</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Border / Frame -->
          <div class="mt-6 pt-4 border-t border-base-200">
            <label class="label pb-1"
              ><span
                class="label-text font-bold text-sm"
                data-i18n="border_frame"
                >Border / Frame</span
              ></label
            >
            <div
              id="border-picker"
              class="grid grid-cols-3 sm:grid-cols-5 gap-2 mt-2"
            >
              <!-- None -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="none"
                  class="hidden peer"
                  checked
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-primary bg-primary/5 text-primary transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <rect
                      x="12"
                      y="12"
                      width="24"
                      height="24"
                      rx="2"
                      fill="currentColor"
                      opacity="0.15"
                    />
                    <rect
                      x="14"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.5"
                    />
                    <rect
                      x="26"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.5"
                    />
                    <rect
                      x="14"
                      y="26"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.5"
                    />
                    <rect
                      x="26"
                      y="26"
                      width="4"
                      height="4"
                      fill="currentColor"
                      opacity="0.3"
                    />
                    <rect
                      x="30"
                      y="30"
                      width="4"
                      height="4"
                      fill="currentColor"
                      opacity="0.3"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >None</span
                  >
                </div>
              </label>

              <!-- Rounded -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="round-sm"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <rect
                      x="6"
                      y="6"
                      width="36"
                      height="36"
                      rx="6"
                      stroke="currentColor"
                      stroke-width="2.5"
                      opacity="0.6"
                    />
                    <rect
                      x="14"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="26"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="27"
                      y="27"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                    <rect
                      x="31"
                      y="31"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Rounded</span
                  >
                </div>
              </label>

              <!-- Pill -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="round-lg"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <rect
                      x="6"
                      y="6"
                      width="36"
                      height="36"
                      rx="14"
                      stroke="currentColor"
                      stroke-width="2.5"
                      opacity="0.6"
                    />
                    <rect
                      x="14"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="26"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="27"
                      y="27"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                    <rect
                      x="31"
                      y="31"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Pill</span
                  >
                </div>
              </label>

              <!-- Circle -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="circle"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <circle
                      cx="24"
                      cy="24"
                      r="20"
                      stroke="currentColor"
                      stroke-width="2.5"
                      opacity="0.6"
                    />
                    <rect
                      x="15"
                      y="15"
                      width="7"
                      height="7"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="15"
                      width="7"
                      height="7"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="15"
                      y="26"
                      width="7"
                      height="7"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="27"
                      y="27"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                    <rect
                      x="31"
                      y="31"
                      width="2"
                      height="2"
                      fill="currentColor"
                      opacity="0.25"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Circle</span
                  >
                </div>
              </label>

              <!-- Glow -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="glow"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <defs>
                      <filter
                        id="bp-glow-f"
                        x="-40%"
                        y="-40%"
                        width="180%"
                        height="180%"
                      >
                        <feGaussianBlur
                          in="SourceGraphic"
                          stdDeviation="2.5"
                          result="blur"
                        />
                        <feMerge>
                          <feMergeNode in="blur" />
                          <feMergeNode in="SourceGraphic" />
                        </feMerge>
                      </filter>
                    </defs>
                    <rect
                      x="6"
                      y="6"
                      width="36"
                      height="36"
                      rx="8"
                      stroke="oklch(var(--p))"
                      stroke-width="2.5"
                      filter="url(#bp-glow-f)"
                      opacity="0.7"
                    />
                    <rect
                      x="14"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="26"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="27"
                      y="27"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                    <rect
                      x="31"
                      y="31"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Glow</span
                  >
                </div>
              </label>

              <!-- Corners -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="corners"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <path
                      d="M6 14V8a2 2 0 012-2h6"
                      stroke="currentColor"
                      stroke-width="2.5"
                      stroke-linecap="round"
                      opacity="0.6"
                    />
                    <path
                      d="M34 6h6a2 2 0 012 2v6"
                      stroke="currentColor"
                      stroke-width="2.5"
                      stroke-linecap="round"
                      opacity="0.6"
                    />
                    <path
                      d="M42 34v6a2 2 0 01-2 2h-6"
                      stroke="currentColor"
                      stroke-width="2.5"
                      stroke-linecap="round"
                      opacity="0.6"
                    />
                    <path
                      d="M14 42H8a2 2 0 01-2-2v-6"
                      stroke="currentColor"
                      stroke-width="2.5"
                      stroke-linecap="round"
                      opacity="0.6"
                    />
                    <rect
                      x="14"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="26"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="27"
                      y="27"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                    <rect
                      x="31"
                      y="31"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Corners</span
                  >
                </div>
              </label>

              <!-- Gradient -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="gradient"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 48" class="w-9 h-9" fill="none">
                    <defs>
                      <linearGradient
                        id="bp-grad"
                        x1="0%"
                        y1="0%"
                        x2="100%"
                        y2="100%"
                      >
                        <stop offset="0%" stop-color="#ff6b6b" />
                        <stop offset="33%" stop-color="#ffd93d" />
                        <stop offset="66%" stop-color="#00e5a0" />
                        <stop offset="100%" stop-color="#6c63ff" />
                      </linearGradient>
                    </defs>
                    <rect
                      x="6"
                      y="6"
                      width="36"
                      height="36"
                      rx="6"
                      stroke="url(#bp-grad)"
                      stroke-width="3"
                    />
                    <rect
                      x="14"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="14"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="26"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="27"
                      y="27"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                    <rect
                      x="31"
                      y="31"
                      width="3"
                      height="3"
                      fill="currentColor"
                      opacity="0.25"
                    />
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Gradient</span
                  >
                </div>
              </label>

              <!-- Scan Me -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="scan-me"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 56" class="w-9 h-9" fill="none">
                    <rect
                      x="6"
                      y="4"
                      width="36"
                      height="36"
                      rx="4"
                      stroke="currentColor"
                      stroke-width="2.5"
                      opacity="0.6"
                    />
                    <rect
                      x="14"
                      y="12"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="12"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="24"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="10"
                      y="44"
                      width="28"
                      height="9"
                      rx="4.5"
                      fill="currentColor"
                      opacity="0.15"
                    />
                    <text
                      x="24"
                      y="50.5"
                      text-anchor="middle"
                      font-size="6"
                      font-weight="bold"
                      fill="currentColor"
                      opacity="0.5"
                      font-family="sans-serif"
                    >
                      SCAN ME
                    </text>
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Scan Me</span
                  >
                </div>
              </label>

              <!-- Ticker -->
              <label class="cursor-pointer group">
                <input
                  type="radio"
                  name="style.borderStyle"
                  value="ticker"
                  class="hidden peer"
                />
                <div
                  class="flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-base-200 bg-base-100 text-base-content/50 transition-all duration-200 hover:border-base-300 hover:bg-base-200/50 bp-card"
                >
                  <svg viewBox="0 0 48 56" class="w-9 h-9" fill="none">
                    <rect
                      x="6"
                      y="14"
                      width="36"
                      height="36"
                      rx="4"
                      stroke="currentColor"
                      stroke-width="2.5"
                      opacity="0.6"
                    />
                    <rect
                      x="14"
                      y="22"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="26"
                      y="22"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="14"
                      y="34"
                      width="8"
                      height="8"
                      rx="1"
                      fill="currentColor"
                      opacity="0.4"
                    />
                    <rect
                      x="10"
                      y="2"
                      width="28"
                      height="9"
                      rx="4.5"
                      fill="currentColor"
                      opacity="0.15"
                    />
                    <text
                      x="24"
                      y="8.5"
                      text-anchor="middle"
                      font-size="5"
                      font-weight="bold"
                      fill="currentColor"
                      opacity="0.5"
                      font-family="sans-serif"
                    >
                      ‚óÜ QR FORGE ‚óÜ
                    </text>
                  </svg>
                  <span class="text-[10px] font-semibold leading-none"
                    >Ticker</span
                  >
                </div>
              </label>
            </div>

            <!-- Border Color -->
            <div class="flex items-center gap-3 mt-3" id="border-color-row">
              <label class="label-text-alt font-medium" data-i18n="border_color"
                >Border Color</label
              >
              <input
                type="color"
                name="style.borderColor"
                value="#000000"
                id="border-color"
                class="w-8 h-8 rounded cursor-pointer border border-base-200 p-0.5"
              />
              <input
                type="text"
                value="#000000"
                id="border-color-text"
                class="input input-bordered input-sm w-28 bg-base-200/50 border-base-200 font-mono text-xs"
                pattern="^#[0-9a-fA-F]{6}$"
                onchange="
                  document.getElementById('border-color').value = this.value
                "
              />
              <span
                class="text-[10px] text-base-content/40"
                data-i18n="label_color_help"
                >Matches QR color by default</span
              >
            </div>
          </div>
        </div>
      </details>

      <div class="animate-fade-up delay-4">
        <button
          type="submit"
          class="btn btn-primary w-full text-base gap-2.5 h-13 rounded-xl shadow-md hover:shadow-lg transition-shadow font-semibold"
        >
          <span
            id="loading-spinner"
            class="loading loading-spinner loading-sm htmx-indicator"
          ></span>
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"
            />
          </svg>
          <span data-i18n="btn_generate">Generate QR Code</span>
        </button>
      </div>
    </form>
  </div>

  <div class="lg:col-span-2">
    <div class="lg:sticky lg:top-24 space-y-4">
      <div
        class="animate-fade-up delay-2 bg-base-100 rounded-2xl border border-base-200 p-6 shadow-sm"
      >
        <label
          class="block text-[11px] uppercase tracking-widest text-base-content/40 mb-4 font-semibold"
          data-i18n="preview_title"
          >Preview</label
        >
        <div id="qr-preview">
          <!-- Preview Content -->
          <div
            class="flex flex-col items-center justify-center py-10 text-center"
          >
            <div
              class="relative w-44 h-44 rounded-2xl bg-base-200/50 flex items-center justify-center mb-5 text-base-content/20"
            >
              <svg class="w-16 h-16" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 15h6v6H3v-6zm2 2v2h2v-2H5zm8 4h2v2h-2v-2zm-2-2h2v2h-2v-2zm2-2h2v2h-2v-2zm2 2h2v2h-2v-2z"
                ></path>
              </svg>
            </div>
            <p
              class="text-base-content/40 text-sm font-medium"
              data-i18n="preview_placeholder"
            >
              Your QR code will appear here
            </p>
            <p
              class="text-base-content/25 text-xs mt-1"
              data-i18n="preview_help"
            >
              Fill in the content and hit Generate
            </p>
          </div>
        </div>
      </div>

      <div class="animate-fade-up delay-3 grid grid-cols-3 gap-2">
        <div
          class="bg-base-100 rounded-xl border border-base-200 p-3 text-center"
        >
          <div class="text-base mb-1">üîí</div>
          <div
            class="text-[10px] font-semibold text-base-content/50 leading-tight"
            data-i18n="badge_private"
          >
            Private
          </div>
        </div>
        <div
          class="bg-base-100 rounded-xl border border-base-200 p-3 text-center"
        >
          <div class="text-base mb-1">‚ö°</div>
          <div
            class="text-[10px] font-semibold text-base-content/50 leading-tight"
            data-i18n="badge_instant"
          >
            Instant
          </div>
        </div>
        <div
          class="bg-base-100 rounded-xl border border-base-200 p-3 text-center"
        >
          <div class="text-base mb-1">üéÅ</div>
          <div
            class="text-[10px] font-semibold text-base-content/50 leading-tight"
            data-i18n="badge_free"
          >
            100% Free
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  /** Tab switching */
  function switchTab(clickedBtn) {
    document.querySelectorAll(".tab-btn").forEach(function (btn) {
      btn.classList.remove("border-primary", "bg-primary/5");
      btn.classList.add("border-base-200", "bg-base-100");
      var label = btn.querySelector("span:last-child");
      if (label) {
        label.classList.remove("text-primary", "font-semibold");
        label.classList.add("text-base-content/50", "font-medium");
      }
    });
    clickedBtn.classList.remove("border-base-200", "bg-base-100");
    clickedBtn.classList.add("border-primary", "bg-primary/5");
    var activeLabel = clickedBtn.querySelector("span:last-child");
    if (activeLabel) {
      activeLabel.classList.remove("text-base-content/50", "font-medium");
      activeLabel.classList.add("text-primary", "font-semibold");
    }
    document.getElementById("qr-type").value = clickedBtn.dataset.type;
  }

  // ‚îÄ‚îÄ‚îÄ Color Picker ‚Üî Text Input Sync ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  (function () {
    var pairs = [
      ["fg-color", "fg-color-text"],
      ["bg-color", "bg-color-text"],
      ["lbl-color", "lbl-color-text"],
      ["border-color", "border-color-text"],
    ];
    pairs.forEach(function (p) {
      var picker = document.getElementById(p[0]);
      var text = document.getElementById(p[1]);
      if (picker && text) {
        picker.addEventListener("input", function () {
          text.value = picker.value;
        });
      }
    });
  })();

  // ‚îÄ‚îÄ‚îÄ Border Picker Selection Highlight ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  (function () {
    var container = document.getElementById("border-picker");
    if (!container) return;

    var activeClasses = ["border-primary", "bg-primary/5", "text-primary"];
    var inactiveClasses = [
      "border-base-200",
      "bg-base-100",
      "text-base-content/50",
    ];

    function updateSelection() {
      container.querySelectorAll(".bp-card").forEach(function (card) {
        var radio = card.closest("label").querySelector("input[type=radio]");
        if (radio && radio.checked) {
          inactiveClasses.forEach(function (c) {
            card.classList.remove(c);
          });
          activeClasses.forEach(function (c) {
            card.classList.add(c);
          });
        } else {
          activeClasses.forEach(function (c) {
            card.classList.remove(c);
          });
          inactiveClasses.forEach(function (c) {
            card.classList.add(c);
          });
        }
      });
    }

    container.addEventListener("change", updateSelection);
    updateSelection();
  })();
</script>
